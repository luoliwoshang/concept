# CPU寄存器系统

## x86-64寄存器概览

### 通用寄存器 (64位)
```
RAX (累加器)    - 算术运算、函数返回值
RBX (基址)      - 内存寻址基址
RCX (计数器)    - 循环计数、字符串操作
RDX (数据)      - 算术运算、I/O操作
RSI (源索引)    - 字符串源地址
RDI (目标索引)  - 字符串目标地址
RBP (基指针)    - 栈帧基址
RSP (栈指针)    - 栈顶地址
R8-R15          - 额外通用寄存器
```

### 寄存器命名规则
```
64位: RAX (8字节)
32位: EAX (4字节) - RAX的低32位
16位: AX  (2字节) - EAX的低16位
8位:  AL  (1字节) - AX的低8位
8位:  AH  (1字节) - AX的高8位
```

### 示例代码
```nasm
; 寄存器操作示例
mov rax, 0x123456789ABCDEF0  ; 64位值
mov eax, 0x12345678          ; 32位值(自动清零高32位)
mov ax, 0x1234               ; 16位值
mov al, 0x12                 ; 8位值(低位)
mov ah, 0x34                 ; 8位值(高位)
```

### 特殊寄存器
```
RIP (指令指针) - 当前执行指令地址
RFLAGS        - 状态标志寄存器
  - ZF: 零标志
  - CF: 进位标志
  - SF: 符号标志
  - OF: 溢出标志
```

### 函数调用约定中的寄存器用途
```
参数传递: RDI, RSI, RDX, RCX, R8, R9
返回值:   RAX (整数), XMM0 (浮点)
调用者保存: RAX, RCX, RDX, RSI, RDI, R8-R11
被调用者保存: RBX, RBP, R12-R15
```